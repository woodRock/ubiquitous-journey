import{F as g,h as b,G as T,H as p,I as v,J as y,K as S,M as E,O as o,P as A,Q as N,l as R,q as k,S as M,R as O,T as B,U as _,V as F,W as I,t as U}from"./Ce1Qptu2.js";import{B as q}from"./xAuJ60Kj.js";import{s as w,g as x}from"./qazVl3OT.js";function P(s,a,n=!1){b&&T();var r=new q(s),u=n?p:0;function e(i,t){if(b){const h=v(s)===y;if(i===h){var f=S();E(f),r.anchor=f,o(!1),r.ensure(i,t),o(!0);return}}r.ensure(i,t)}g(()=>{var i=!1;a((t,f=!0)=>{i=!0,e(f,t)}),i||e(!1,null)},u)}function d(s,a){return s===a||s?.[M]===a}function Y(s={},a,n,r){return A(()=>{var u,e;return N(()=>{u=e,e=[],R(()=>{s!==n(...e)&&(a(s,...e),u&&d(n(...u),s)&&a(null,...u))})}),()=>{k(()=>{e&&d(n(...e),s)&&a(null,...e)})}}),s}let c=!1,l=Symbol();function C(s,a,n){const r=n[a]??={store:null,source:F(void 0),unsubscribe:_};if(r.store!==s&&!(l in n))if(r.unsubscribe(),r.store=s??null,s==null)r.source.v=void 0,r.unsubscribe=_;else{var u=!0;r.unsubscribe=w(s,e=>{u?r.source.v=e:I(r.source,e)}),u=!1}return s&&l in n?x(s):U(r.source)}function G(){const s={};function a(){O(()=>{for(var n in s)s[n].unsubscribe();B(s,l,{enumerable:!1,value:!0})})}return[s,a]}function J(s){var a=c;try{return c=!1,[s(),c]}finally{c=a}}export{G as a,Y as b,J as c,P as i,C as s};
